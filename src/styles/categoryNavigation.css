/**
 * Category Navigation Styles
 * Provides styling for sophisticated single-page category navigation
 */

/* Category Navigation Container */
.category-navigation-container {
  @apply relative;
}

/* Desktop Navigation Variants */
.category-navigation {
  /* Horizontal scrolling support */
  scrollbar-width: thin;
  scrollbar-color: theme('colors.gray.300') transparent;
}

.category-navigation::-webkit-scrollbar {
  height: 4px;
}

.category-navigation::-webkit-scrollbar-track {
  background: transparent;
}

.category-navigation::-webkit-scrollbar-thumb {
  @apply bg-gray-300 rounded-full;
}

.category-navigation::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-400;
}

/* Category Navigation Buttons */
.category-nav-button {
  @apply relative overflow-hidden;
  min-width: fit-content;
  
  /* Smooth transitions */
  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.category-nav-button:hover {
  transform: translateY(-1px);
}

.category-nav-button:active {
  transform: translateY(0);
}

.category-nav-button:disabled {
  transform: none;
}

/* Focus states with improved visibility */
.category-nav-button:focus-visible {
  @apply ring-2 ring-brand-blue-primary ring-offset-2;
  outline: none;
}

/* Ripple effect on click */
.category-nav-button::before {
  content: '';
  @apply absolute inset-0 bg-white opacity-0 pointer-events-none;
  transform: scale(0);
  transition: transform 0.3s, opacity 0.3s;
}

.category-nav-button:active::before {
  transform: scale(1);
  @apply opacity-20;
  transition: transform 0s, opacity 0s;
}

/* Horizontal Variant */
.category-navigation.horizontal .category-nav-button {
  @apply flex-shrink-0;
}

/* Vertical Variant */
.category-navigation.vertical {
  @apply w-full max-w-sm;
}

.category-navigation.vertical .category-nav-button {
  @apply w-full justify-start;
}

/* Tabs Variant */
.category-navigation.tabs .category-nav-button {
  @apply rounded-none border-b-2 pb-3 px-6;
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
}

/* Pills Variant */
.category-navigation.pills .category-nav-button {
  @apply rounded-full px-6 py-2;
}

/* Progress Indicator */
.category-progress-indicator {
  @apply w-full max-w-md mx-auto;
}

.category-progress-indicator .progress-bar {
  transition: width 500ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Breadcrumbs */
.category-breadcrumbs {
  @apply text-sm;
}

.category-breadcrumbs button:hover {
  @apply underline;
}

/* Mobile Navigation */
.category-navigation-mobile {
  @apply relative;
}

/* Mobile dropdown animation */
.category-navigation-mobile .dropdown-menu {
  animation: dropdownSlide 200ms ease-out;
  transform-origin: top;
}

@keyframes dropdownSlide {
  from {
    opacity: 0;
    transform: scaleY(0.95) translateY(-8px);
  }
  to {
    opacity: 1;
    transform: scaleY(1) translateY(0);
  }
}

/* Navigation Controls */
.category-navigation-controls button {
  @apply rounded-full p-2;
  transition: all 200ms ease-in-out;
}

.category-navigation-controls button:hover:not(:disabled) {
  @apply bg-gray-100 scale-110;
}

.category-navigation-controls button:active:not(:disabled) {
  @apply scale-95;
}

/* Loading States */
.category-navigation-loading {
  @apply pointer-events-none opacity-60;
}

/* Accessibility Enhancements */
@media (prefers-reduced-motion: reduce) {
  .category-nav-button,
  .category-navigation-controls button,
  .category-progress-indicator .progress-bar {
    transition: none;
  }
  
  .category-nav-button:hover {
    transform: none;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .category-nav-button {
    @apply border border-gray-800;
  }
  
  .category-nav-button:hover {
    @apply border-brand-blue-primary;
  }
}

/* Dark mode support (if needed in future) */
@media (prefers-color-scheme: dark) {
  .category-navigation {
    scrollbar-color: theme('colors.gray.600') transparent;
  }
}

/* Custom scrollbar for mobile */
@media (max-width: 640px) {
  .category-navigation {
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }
  
  .category-navigation::-webkit-scrollbar {
    display: none;
  }
}

/* Ensure proper z-indexing */
.category-navigation-mobile .absolute {
  z-index: 50;
}

/* Category description styling */
.category-nav-button .line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Icon alignment */
.category-nav-button svg {
  @apply flex-shrink-0;
}

/* Smooth scroll behavior for navigation */
html {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

/* Focus management for keyboard navigation */
.category-nav-button:focus:not(:focus-visible) {
  outline: none;
  box-shadow: none;
}

/* Enhanced mobile touch targets */
@media (max-width: 640px) {
  .category-nav-button {
    min-height: 44px; /* WCAG recommended touch target size */
    @apply text-base; /* Slightly larger text on mobile */
  }
}